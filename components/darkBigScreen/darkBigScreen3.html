<style>
    .aroundFlexPanel4 {
        height: 100%;
        width: 100%;
        display: flex;
        /* justify-content: space-between; */
    }

    .panel4flexs {
        display: flex;
        width: 220px;
        background: linear-gradient(to right,#0C416F,#2685D7,#0C406E);
    }

    .areaPanel4 {
        width: 32.1%;
        height: 100%;
        margin-left: 10px;
        /*background-color: white;*/
        border-radius: 5px;
        /*background-image: url('../../assetsInfo/images/bigScreen/tablesBj.png');*/
        background-size: 100% 100%;
    }

    .companyPanel4 {
        width: 100%;
        height: calc(50% - 12px);
        background: url('/assetsInfo/images/darkScreen/bg-border2.png');
        background-size: 100% 100%;
        padding-top: 8px;
        padding: 8px 4px 0 6px;
        margin-left: 1px;
    }

    .companyPanel42 {
        width: 100%;
        height: calc(100% - 7px);
        background: url('/assetsInfo/images/darkScreen/border-back3.png');
        background-size: 100% 100%;
        padding-top: 8px;
    }

    .graysPanel4 {
        width: 100%;
        height: 10px;
        /*background-color: #F5F5F5;*/
    }

    .casepanel4 {
        padding: 0px 10px;
        /*border-bottom: 1px solid #ddd;*/
        color: #9FE8FD;
        margin-left: 8px;
        line-height: 32px;
        height: 32px;
    }

    .logosP4 {
        width: 18px;
        height: 18px;
        margin: 0 8px;
    }

    .TitlelP4 {
        line-height: 32px;
        height: 32px;
        font-size: 16px;
    }

    .tablesP4 {
        width: 100%;
        height: calc(100% - 55px);
        /*background-color: white;*/
        padding: 0px 6px;
        box-sizing: border-box;
    }

    .tablesP42 {
        width: 100%;
        height: calc(100% - 50px);
        padding: 0px 10px;
        box-sizing: border-box;
    }

    .aroundFlexPanel4 .layui-table-header thead tr {
        background: rgba(0,120,197,1)!important;
        font-size: 14px;
        font-family: Source Han Sans CN;
        font-weight: bold;
        color: #9FE8FD;
    }

    .aroundFlexPanel4 .layui-table-body tr:nth-child(even) {
        /*background-color: #ECF9FF;*/
    }

    .tablesP4 .layui-table-body .layui-table-cell {
        /*height: 55px;*/
        /*overflow: visible;*/
        /*text-overflow: inherit;*/
        /*white-space: normal;*/
        /*padding: 0px;*/
        /*display: table-cell;*/
        /*vertical-align: middle;*/
    }
    .tablesHeight .layui-table-body .layui-table-cell{
        height: 55px;
        overflow: visible;
        text-overflow: inherit;
        white-space: normal;
        padding: 0px;
        display: table-cell;
        vertical-align: middle;
    }
    .tablesP42 .layui-table-body .layui-table-cell {
        /*height: 55px;*/
        /*overflow: visible;*/
        /*text-overflow: inherit;*/
        /*white-space: normal;*/
        /*padding: 0px;*/
        /*display: table-cell;*/
        /*vertical-align: middle;*/
    }

    .layui-table-view .layui-table td{
        color: #479EF8;
    }
    .layui-table{
        background: transparent;
    }
    .layui-table-cell{
        height: auto;
        overflow: visible;
        text-overflow: clip;
        white-space: normal;
        padding: 0;
    }
    .layui-table-view{
        border: 1px solid #479EF8;
    }
    .layui-table-view .layui-table td, .layui-table-view .layui-table th {
        padding: 1px 0;
        border: 1px solid #479EF8;
        border-top: none;
        border-left: none;
    }
    .layui-table-header{
        border: none;
        background: rgb(0,120,197);
    }
    .tablesP4 .layui-table-view{
        /*width: 99%;*/
    }
    .table1 .layui-table-view .layui-table{
        width: calc(100% + 3px);
        /*width: 100%;*/
    }
    .table1 .layui-table-patch{
        display: none;
    }

    @media screen and (min-width: 1900px) {
        .table1 .layui-table-view .layui-table{
            width: calc(100% + 2px);
        }
        .table1 .layui-table-view .layui-table th:nth-child(4){
            border-right: none;
        }
        .table1 .layui-table-view .layui-table td:nth-child(4){
            border-right: none;
        }
        .areaPanel4{
            width: 32.5%;
        }
    }
</style>
<div class="aroundFlexPanel4 bigScreenLoad4">
    <div class="areaPanel4" style="margin-left: 0px">
        <div class="companyPanel4">
            <div class="panel4flexs casepanel4">
                <div><img src="../../assetsInfo/images/bigScreen/companyCase.png" class="logosP4"></div>
                <div class="TitlelP4">各公司经营情况</div>
            </div>
            <div class="tablesP4 tablesHeight table1">
                <table id="companyCaseP4" lay-filter="companyCaseP4"></table>
            </div>
        </div>
        <div class="graysPanel4"></div>
        <div class="companyPanel4">
            <div class="panel4flexs casepanel4">
                <div><img src="../../assetsInfo/images/bigScreen/ranking.png" class="logosP4"></div>
                <div class="TitlelP4">企业年度合同总额排行榜</div>
            </div>
            <div class="tablesP4">
                <table id="rankingP4" lay-filter="rankingP4"></table>
            </div>
        </div>
    </div>
    <div class="areaPanel4" style="margin-left: 24px">
        <div class="companyPanel42">
            <div class="panel4flexs casepanel4">
                <div><img src="../../assetsInfo/images/bigScreen/automobile.png" class="logosP4"></div>
                <div class="TitlelP4">车企月度销量排行榜</div>
            </div>
            <div class="tablesP42">
                <table id="automobileP4" lay-filter="automobileP4"></table>
            </div>
        </div>
    </div>
    <div class="areaPanel4">
        <div class="companyPanel4">
            <div class="panel4flexs casepanel4">
                <div><img src="../../assetsInfo/images/bigScreen/department.png" class="logosP4"></div>
                <div class="TitlelP4">部门收款项排行榜</div>
            </div>
            <div class="tablesP4">
                <table id="departmentP4" lay-filter="departmentP4"></table>
            </div>
        </div>
        <div class="graysPanel4"></div>
        <div class="companyPanel4">
            <div class="panel4flexs casepanel4">
                <div><img src="../../assetsInfo/images/bigScreen/proceeds.png" class="logosP4"></div>
                <div class="TitlelP4">企业应收款排行榜</div>
            </div>
            <div class="tablesP4">
                <table id="proceedsP4" lay-filter="proceedsP4"></table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var tables4Height = $('.tablesP4').height();
    var tables4Height2 = $('.tablesP42').height();
    layui.use(['table'], function () {
        var table = layui.table;
        // 公司经营情况
        var companyCols = [
            [
               {
                    field: 'projectOwner',
                    title: '公司',
                    align: 'center',
                    // width:100,
                   width: '34%',
                    templet: function (d) {
                        var text = d.projectOwner;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                },
                {
                    field: 'contractAmount',
                    title: '合同额(万元)',
                    align: 'center',
                    // width:140,
                    width:'22%',
                    templet: function (d) {
                        var text = d.contractAmount;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                }, {
                    field: 'invoiceAmount',
                    title: '开票额(万元)',
                    align: 'center',
                    // width:140,
                    width:'22%',
                    templet: function (d) {
                        var text = d.invoiceAmount;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                }, {
                    field: 'accountAmount',
                    title: '进账额(万元)',
                    align: 'center',
                    width:'22%',
                    templet: function (d) {
                        var text = d.accountAmount;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                }
            ]
        ]
        showTableP4('companyCaseP4', '/api/industymeeting/receivableIncome/getPartBOperationStatistics', companyCols, tables4Height);
        // 年度排行
        var rankingCols = [
            [
                {
                    type: 'numbers', title: '排行'
                },
                {
                    field: 'projectOwner',
                    title: '企业',
                    align: 'center',
                    minWidth:220,
                    templet: function (d) {
                        var text = d.projectOwner;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                }, {
                field: 'contractAmountStr',
                title: '金额(万元)',
                align: 'center',
                templet: function (d) {
                    var text = d.contractAmountStr;
                    return '<div title="' + text + '"><span>' + text + '</span></div>'
                }
            }]
        ];
        showTableP4('rankingP4', '/api/budget/project/getProjectContractAmount', rankingCols, tables4Height)
        // 车企销量排行榜
        var automobileClos = [
            [
                {
                    type: 'numbers', title: '排行'
                },
                {
                    field: 'enterpriseName',
                    title: '企业',
                    align: 'center',
                    minWidth: (document.body.offsetWidth -60)/3*0.5,
                    templet: function (d) {
                        var text = d.enterpriseName;
                        return '<div title="' + text + '"><span>' + text + '</span></div>'
                    }
                }, {
                field: 'monthSalesKanban',
                title: '销量(万辆)',
                align: 'center',
                templet: function (d) {
                    var text = d.monthSalesKanban;
                    return '<div title="' + text + '"><span>' + text + '</span></div>'
                }
            },
                {
                    field: 'proportion',
                    title: '合同占比',
                    align: 'center',
                    templet: function (d) {
                        var text = d.proportion;
                        return '<div title="' + text + '"><span>' + text + '%' + '</span></div>'
                    }
                }]
        ];
        showTableP4('automobileP4', '/api/carsales/carSales/carSalesRanking', automobileClos, tables4Height2)
        // 部门收款排行榜
        var departmentClos = [
            [
                {
                    type: 'numbers', title: '排行',width:50
                },
                {
                    field: 'departmentName',
                    title: '部门',
                    align: 'center',
                    // minWidth: 30,
                    templet: function (d) {
                        var text = d.departmentName;
                        return text
                    }
                },
                {
                    field: 'amountReceivable',
                    title: '应收余额(万元)',
                    align: 'center',
                    width: 150,
                    templet: function (d) {
                        var text = d.amountReceivable;
                        return text
                    }
                },
                {
                    field: 'totalAmountReceivable',
                    title: '占比',
                    align: 'center',
                    // minWidth: 5,
                    templet: function (d) {
                        var text = toPercentP4(d.amountReceivable, d.totalAmountReceivable)
                        return text
                    }
                }]
        ];
        showTableP4('departmentP4', '/api/industymeeting/receivableIncome/accountReceivableByDepart?topNum=' + 10, departmentClos, tables4Height)
        // 企业收款
        var proceedsClos = [[
            {
                type: 'numbers', title: '排行'
            },
            {
                field: 'corpname',
                title: '企业',
                width: '50%',
                align: 'center',
                templet: function (d) {
                    var text = d.corpname;
                    return '<div title="' + text + '"><span>' + text + '</span></div>'
                }
            }, {
                field: 'amountReceivableStr',
                title: '应收余额(万元)',
                align: 'center',
                templet: function (d) {
                    var text = d.amountReceivableStr;
                    return '<div title="' + text + '"><span>' + text + '</span></div>'
                }
            },
        ]];
        showTableP4('proceedsP4', '/api/industymeeting/receivableIncome/accountReceivableByEnterprise?topNum=' + 10, proceedsClos, tables4Height)
        // 请求数据
        function showTableP4(tableId, api, cols, THeight) {
            table.render({
                elem: '#' + tableId,
                id: tableId,
                url: '/ADC_info'+api ,
                parseData: function (res) {
                    return {
                        "code": res.respCode, //解析接口状态
                        "msg": res.message, //解析提示文本
                        // "count": res.data.count, //解析数据长度
                        "data": res.data //解析数据列表
                    }
                },
                cols: cols,
                height: THeight,
                limit:100
            });
        }
        function toPercentP4(num, total) {
            var datas = '';
            if (num == 0 && total == 0) {
                datas = 0 + '%';
            } else if (num == 0 && total != 0) {
                datas = 0 + '%';
            } else if (num != 0 && total == 0) {
                datas = 100 + '%';
            } else {
                datas = (Math.round(num / total * 10000) / 100.00 + "%");
            }
            return datas;
        }
    })
</script>
